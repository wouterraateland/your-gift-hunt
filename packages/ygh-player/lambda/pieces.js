!function(e,n){for(var t in n)e[t]=n[t]}(exports,function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([,function(e,n,t){"use strict";t.r(n),t.d(n,"handler",function(){return m});t(2);function i(e,n,t,i,r,a,o){try{var l=e[a](o),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(i,r)}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.forEach(function(n){a(e,n,t[n])})}return e}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}const l=new Date(2018,10,6),s=new Date(2018,10,22),u=e=>()=>e,c=e=>n=>e.every(e=>n.includes(e)),d=e=>(n,t)=>t.filter(n=>e.includes(n.id)).every(e=>e.challenge.completed),p=e=>()=>Date.now()+864e5*e>s,g=e=>n=>"string"==typeof n&&n.toLowerCase()===e,f=[{id:0,image:"/images/animal_farm.jpeg",isAvailable:u(!0),challenge:{type:"question",question:"Even een makkelijke om mee te beginnen: Wat is jouw favoriete kleur?",validateResponse:g("geel")}},{id:1,image:"/images/fry.jpeg",isAvailable:d([0]),challenge:{type:"question",question:'\n        Volgens mij snap je het! Nu wat moeilijker...\n        "Ik heb een groen huis.\n        In mijn groene huis zit een wit huis.\n        In mijn witte huis zit een rood huis.\n        In mijn rode huis zitten een hele hoop baby\'s.\n        Wat ben ik?"\n      ',validateResponse:g("watermeloen")}},{id:2,image:"/images/artichoke.jpeg",isAvailable:c(["ofgG59w4"]),challenge:{type:"none"}},{id:3,image:"/images/leisteen.jpeg",isAvailable:(e,n)=>(e=>()=>Date.now()-864e5*e>l)(2)()&&d([2])(e,n),challenge:{type:"question",question:"Hoe spel je Amsterdam met 7 letters?",validateResponse:e=>"string"==typeof e&&(e.toLowerCase().includes("cirkel")||e.toLowerCase().includes("rond"))}},{id:4,image:"/images/disney_1.jpeg",isAvailable:c(["7uciossJ"]),challenge:{type:"none"}},{id:5,image:"/images/disney_2.jpeg",isAvailable:u(!0),challenge:{type:"code",code:"7291"}},{id:6,image:"/images/pie.jpeg",isAvailable:u(!0),challenge:{type:"plant",validateResponse:g("qroiuqpinvrin")}},{id:7,image:"/images/disney_3.jpeg",isAvailable:c(["cOW0bvGG"]),challenge:{type:"none"}},{id:8,image:"/images/disney_4.jpeg",isAvailable:u(!1),challenge:{type:"none"}},{id:9,image:"/images/disney_5.jpeg",isAvailable:c(["s1Y8LINb"]),challenge:{type:"none"}},{id:10,image:"/images/soup.jpeg",isAvailable:(e,n)=>c(["s1Y8LINb"])(e,n)&&d([9])(e,n),challenge:{type:"question",question:"Noem 4 belangrijke ingredienten van goed eten",validateResponse:e=>{if("string"!=typeof e)return!1;const n=e.toLowerCase();return(n.includes("salt")||n.includes("zout"))&&(n.includes("fat")||n.includes("vet"))&&(n.includes("acid")||n.includes("zuur"))&&(n.includes("heat")||n.includes("hitte"))}}},{id:11,image:"/images/disney_6.jpeg",isAvailable:c(["VZ5zlRz6"]),challenge:{type:"none"}},{id:12,image:"/images/disney_7.jpeg",isAvailable:c(["xN56rM9e"]),challenge:{type:"none"}},{id:13,image:"/images/disney_8.jpeg",isAvailable:p(3),challenge:{type:"question",question:"Waar gaan we heen?",validateResponse:g("disneyland parijs")}},{id:14,image:"/images/disney_9.jpeg",isAvailable:p(1),challenge:{type:"question",question:"Heb je er zin in?",validateResponse:e=>"string"==typeof e&&e.toLowerCase().includes("ja")}}],y=(e,n)=>{let{type:t}=e,i=o(e,["type"]);switch(t){case"question":case"plant":return((e,n)=>{let{validateResponse:t}=e;return r({},o(e,["validateResponse"]),{completed:t(n?n.response:null)})})(i,n);case"code":return((e,n)=>{let{code:t}=e;return r({},o(e,["code"]),{length:t.length,completed:n&&n.response===t})})(i,n);default:return{completed:!0}}},m=function(){var e=function(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function l(e){i(o,r,a,l,s,"next",e)}function s(e){i(o,r,a,l,s,"throw",e)}l(void 0)})}}(function*(e,n){if("POST"!==e.httpMethod)return{statusCode:405,body:"Method Not Allowed"};const{responses:t,codes:i}=JSON.parse(e.body);return{statusCode:200,body:JSON.stringify(((e,n)=>f.map(n=>{let{challenge:t}=n,i=o(n,["challenge"]);const a=e.find(e=>e.pieceId===i.id);return r({},i,{challenge:r({type:t.type},y(t,a))})}).filter((e,t,i)=>e.isAvailable(n,i)).map(e=>r({},e,{image:e.challenge.completed?e.image:null})))(t||[],i||[]))}});return function(n,t){return e.apply(this,arguments)}}()},function(e,n){e.exports=require("querystring")}]));