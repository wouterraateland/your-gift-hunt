!function(e,n){for(var i in n)e[i]=n[i]}(exports,function(e){var n={};function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=n,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)i.d(t,a,function(n){return e[n]}.bind(null,a));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i(i.s=2)}([function(e,n){e.exports=require("querystring")},,function(e,n,i){"use strict";i.r(n),i.d(n,"handler",function(){return f});i(0);function t(e,n,i,t,a,r,l){try{var o=e[r](l),s=o.value}catch(e){return void i(e)}o.done?n(s):Promise.resolve(s).then(t,a)}function a(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},t=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),t.forEach(function(n){r(e,n,i[n])})}return e}function r(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function l(e,n){if(null==e)return{};var i,t,a=function(e,n){if(null==e)return{};var i,t,a={},r=Object.keys(e);for(t=0;t<r.length;t++)i=r[t],n.indexOf(i)>=0||(a[i]=e[i]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)i=r[t],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}const o=new Date(2018,10,6),s=new Date(2018,11,14),u=e=>()=>e,c=e=>n=>e.every(e=>n.includes(e)),g=e=>()=>Date.now()+864e5*e>s,p=e=>n=>"string"==typeof n&&n.toLowerCase()===e,d=[{id:0,image:"/images/animal_farm.jpeg",isAvailable:u(!0),challenge:{type:"question",question:"Even een makkelijke om mee te beginnen: Wat is jouw favoriete kleur?",validateResponse:p("geel")}},{id:1,image:"/images/fry.jpeg",isAvailable:(e=>(n,i)=>i.filter(n=>e.includes(n.id)).every(e=>e.challenge.completed))([0]),challenge:{type:"question",question:'\n        Volgens mij snap je het! Nu wat moeilijker...\n        "Ik heb een groen huis.\n        In mijn groene huis zit een wit huis.\n        In mijn witte huis zit een rood huis.\n        In mijn rode huis zitten een hele hoop baby\'s.\n        Wat ben ik?"\n      ',validateResponse:p("watermeloen")}},{id:2,image:"/images/artichoke.jpeg",isAvailable:c(["ofgG59w4"]),challenge:{type:"none"}},{id:3,image:"/images/leisteen.jpeg",isAvailable:(e=>()=>Date.now()-864e5*e>o)(2),challenge:{type:"none"}},{id:4,image:"/images/disney_1.jpeg",isAvailable:u(!1),challenge:{type:"none"}},{id:5,image:"/images/disney_2.jpeg",isAvailable:u(!1),challenge:{type:"none"}},{id:6,image:"/images/pie.jpeg",isAvailable:u(!1),challenge:{type:"none"}},{id:7,image:"/images/disney_3.jpeg",isAvailable:u(!1),challenge:{type:"none"}},{id:8,image:"/images/disney_4.jpeg",isAvailable:u(!1),challenge:{type:"none"}},{id:9,image:"/images/disney_5.jpeg",isAvailable:u(!1),challenge:{type:"none"}},{id:10,image:"/images/soup.jpeg",isAvailable:u(!1),challenge:{type:"none"}},{id:11,image:"/images/disney_6.jpeg",isAvailable:u(!1),challenge:{type:"none"}},{id:12,image:"/images/disney_7.jpeg",isAvailable:c(["xN56rM9e"]),challenge:{type:"none"}},{id:13,image:"/images/disney_8.jpeg",isAvailable:g(3),challenge:{type:"question",question:"Waar gaan we heen?",validateResponse:p("disneyland parijs")}},{id:14,image:"/images/disney_9.jpeg",isAvailable:g(1),challenge:{type:"question",question:"Heb je er zin in?",validateResponse:e=>"string"==typeof e&&!p("nee")(e)}}],f=function(){var e=function(e){return function(){var n=this,i=arguments;return new Promise(function(a,r){var l=e.apply(n,i);function o(e){t(l,a,r,o,s,"next",e)}function s(e){t(l,a,r,o,s,"throw",e)}o(void 0)})}}(function*(e,n){if("POST"!==e.httpMethod)return{statusCode:405,body:"Method Not Allowed"};const{responses:i,codes:t}=JSON.parse(e.body);return{statusCode:200,body:JSON.stringify(((e,n)=>d.map(n=>{let{challenge:i}=n,t=l(n,["challenge"]);switch(i.type){case"question":const n=e.find(e=>e.pieceId===t.id),{validateResponse:r}=i,o=l(i,["validateResponse"]);return a({},t,{challenge:a({},o,{completed:r(n?n.response:null)})});default:return a({},t,{challenge:{type:i.type,completed:!0}})}}).filter((e,i,t)=>e.isAvailable(n,t)).map(e=>a({},e,{image:e.challenge.completed?e.image:null})))(i||[],t||[]))}});return function(n,i){return e.apply(this,arguments)}}()}]));